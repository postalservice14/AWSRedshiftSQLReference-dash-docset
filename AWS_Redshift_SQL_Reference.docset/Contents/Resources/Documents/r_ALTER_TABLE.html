<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div></div><h1 class="topictitle" id="r_ALTER_TABLE">ALTER TABLE</h1><div class="highlights">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#r_ALTER_TABLE-synopsis">Syntax</a></li>
                           <li><a href="#r_ALTER_TABLE-parameters">Parameters</a></li>
                           <li><a href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE_examples_basic.html">ALTER TABLE Examples</a></li>
                           <li><a href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE_external-table.html">Alter External Table Examples</a></li>
                           <li><a href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE_COL_ex-add-drop.html">ALTER TABLE ADD and DROP COLUMN
                                 Examples</a></li>
                        </ul>
                     </div><p>Changes the definition of a database table or Amazon Redshift Spectrum external table.
                        This command
                        updates the values and properties set by CREATE TABLE or CREATE EXTERNAL TABLE.
                     </p><div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>ALTER TABLE locks the table for read and write operations until the ALTER TABLE
                           operation completes. 
                        </p>
                     </div><h2 id="r_ALTER_TABLE-synopsis">Syntax</h2><pre class="screen">ALTER TABLE <em>table_name</em>
{
ADD <em>table_constraint</em> 
| DROP CONSTRAINT <em>constraint_name</em> [ RESTRICT | CASCADE ] 
| OWNER TO <em>new_owner</em> 
| RENAME TO <em>new_name</em> 
| RENAME COLUMN <em>column_name</em> TO <em>new_name</em>            
| ALTER COLUMN <em>column_name</em> TYPE <em>new_data_type</em>              
| ALTER DISTKEY <em>column_name</em> 
| ALTER DISTSTYLE KEY DISTKEY <em>column_name</em>   
| ADD [ COLUMN ] <em>column_name column_type</em>
  [ DEFAULT <em>default_expr</em> ]
  [ ENCODE <em>encoding</em> ]
  [ NOT NULL | NULL ] |
| DROP [ COLUMN ] <em>column_name</em> [ RESTRICT | CASCADE ] }

where <em>table_constraint</em> is:

[ CONSTRAINT <em>constraint_name</em> ]
{ UNIQUE ( <em>column_name</em> [, ... ] )  
| PRIMARY KEY ( <em>column_name</em> [, ... ] ) 
| FOREIGN KEY (<em>column_name</em> [, ... ] )
   REFERENCES  <em>reftable</em> [ ( <em>refcolumn</em> ) ]}

The following options apply only to external tables:

SET LOCATION { &apos;s3://<em>bucket/folder</em>/&apos; | &apos;s3://<em>bucket/manifest_file</em>&apos; } 
| SET FILE FORMAT <em>format</em> |
| SET TABLE PROPERTIES (&apos;<em>property_name</em>&apos;=&apos;<em>property_value</em>&apos;) 
| PARTITION ( partition_column=partition_value [, ...] ) 
  SET LOCATION { &apos;s3://<em>bucket</em>/<em>folder</em>&apos; |&apos;s3://<em>bucket</em>/<em>manifest_file</em>&apos; } 
| ADD [IF NOT EXISTS] 
    PARTITION ( partition_column=partition_value [, ...] ) LOCATION { &apos;s3://<em>bucket</em>/<em>folder</em>&apos; |&apos;s3://<em>bucket</em>/<em>manifest_file</em>&apos; }
    [, ... ]
| DROP PARTITION ( <em>partition_column</em>=<em>partition_value</em> [, ...] )  </pre><h2 id="r_ALTER_TABLE-parameters">Parameters</h2><div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                                     
                        
                        
                          
                         
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><span class="term">
                                 <em>table_name</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>The name of the table to alter. Either specify just the name of the table,
                                 or use the format <em>schema_name.table_name</em> to use a specific
                                 schema. External tables must be qualified by an external schema name. You can
                                 also specify a view name if you are using the ALTER TABLE statement to rename a
                                 view or change its owner. The maximum length for the table name is 127 bytes;
                                 longer names are truncated to 127 bytes. You can use UTF-8 multibyte characters
                                 up to a maximum of four bytes. For more information about valid names, see
                                 <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_names.html">Names and Identifiers</a>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">ADD <em>table_constraint</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>A clause that adds the specified constraint to the table. For descriptions
                                 of valid <em>table_constraint</em> values, see <a href="r_CREATE_TABLE_NEW.html">CREATE TABLE</a>.
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>You can&apos;t add a primary-key constraint to a nullable column. If the
                                    column was originally created with the NOT NULL constraint, you can add the
                                    primary-key constraint.
                                 </p>
                              </div>
                              
                           </dd>
                           
                           
                           <dt><span class="term">DROP CONSTRAINT <em>constraint_name</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>A clause that drops the named constraint from the table. To drop a
                                 constraint, specify the constraint name, not the constraint type. To view table
                                 constraint names, run the following query.
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">select constraint_name, constraint_type 
from information_schema.table_constraints;</code></pre>
                              </dd>
                           
                           
                           <dt><span class="term">RESTRICT </span></dt>
                           
                           <dd>
                              
                              <p>A clause that removes only the specified constraint. RESTRICT is an option
                                 for DROP CONSTRAINT. RESTRICT can&apos;t be used with CASCADE. 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">CASCADE </span></dt>
                           
                           <dd>
                              
                              <p>A clause that removes the specified constraint and anything dependent on
                                 that constraint. CASCADE is an option for DROP CONSTRAINT. CASCADE can&apos;t be
                                 used with RESTRICT.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">OWNER TO <em>new_owner</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>A clause that changes the owner of the table (or view) to the
                                 <em>new_owner</em> value.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">RENAME TO <em>new_name</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>A clause that renames a table (or view) to the value specified in
                                 <em>new_name</em>. The maximum table name length is 127 bytes;
                                 longer names are truncated to 127 bytes.
                              </p>
                              
                              <p>You can&apos;t rename a permanent table to a name that begins with &apos;#&apos;. A
                                 table name beginning with &apos;#&apos; indicates a temporary table.
                              </p>
                              
                              <p>You can&apos;t rename an external table.</p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">ALTER COLUMN <em>column_name</em> TYPE
                                 <em>new_data_type</em>
                                 </span></dt>
                           
                           <dd>
                                
                              
                              
                              <p>A clause that changes the size of a column defined as a VARCHAR data type. Consider
                                 the following limitations:
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       <p>You can&#x2019;t alter a column with compression encodings BYTEDICT, RUNLENGTH, TEXT255,
                                          or TEXT32K. 
                                       </p>
                                    </li>
                                    <li class="listitem">
                                       <p>You can&apos;t decrease the size less than maximum size of existing data. </p>
                                    </li>
                                    <li class="listitem">
                                       <p>You can&apos;t alter columns with default values. </p>
                                    </li>
                                    <li class="listitem">
                                       <p>You can&apos;t alter columns with UNIQUE, PRIMARY KEY, or FOREIGN KEY. </p>
                                    </li>
                                    <li class="listitem">
                                       <p>You can&apos;t alter columns inside a multi-statement block (BEGIN...END). </p>
                                    </li>
                                 </ul>
                              </div>
                              
                              
                           </dd>
                           
                           
                           <dt><span class="term">ALTER DISTKEY <em>column_name</em> or ALTER DISTSTYLE KEY DISTKEY <em>column_name</em></span></dt>
                           
                           <dd>
                              
                              <p>A clause that changes the column used as the distribution key of a table. Consider
                                 the following:
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       <p>You can only alter the DISTKEY of tables whose original DISTSTYLE is EVEN or KEY.</p>
                                    </li>
                                    <li class="listitem">
                                       <p>VACUUM and ALTER DISTKEY cannot run concurrently on the same table. </p>
                                       
                                       <div class="itemizedlist">
                                          
                                          
                                          
                                          
                                          <ul class="itemizedlist" type="disc">
                                             <li class="listitem">
                                                <p>If VACUUM is already running, then ALTER DISTKEY returns an error.</p>
                                             </li>
                                             <li class="listitem">
                                                <p>If ALTER DISTKEY is running, then background vacuum does not start on a table.</p>
                                             </li>
                                             <li class="listitem">
                                                <p>If ALTER DISTKEY is running, then foreground vacuum returns an error.</p>
                                             </li>
                                          </ul>
                                       </div>
                                    </li>
                                    <li class="listitem">
                                       <p>You can only run one ALTER DISTKEY command on a table at a time. </p>
                                    </li>
                                    <li class="listitem">
                                       <p>After ALTER DISTKEY runs, for tables with a SORTKEY defined, we recommend that you
                                          run a VACUUM [FULL|SORT ONLY] command to re-sort the table. 
                                          For more information, see <a href="r_VACUUM_command.html">VACUUM</a>. 
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>Currently, Amazon Redshift Advisor recommendations are only generated for tables without
                                    sort keys.
                                 </p>
                              </div>
                              
                              <p>When specifying DISTSTYLE KEY, the data is distributed by the values in the
                                 DISTKEY column. For more information about DISTSTYLE, see 
                                 <a href="r_CREATE_TABLE_NEW.html">CREATE TABLE</a>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">RENAME COLUMN <em>column_name</em> TO <em>new_name</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>A clause that renames a column to the value specified in
                                 <em>new_name</em>. The maximum column name length is 127 bytes;
                                 longer names are truncated to 127 bytes. For more information about valid
                                 names, see <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_names.html">Names and Identifiers</a>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">ADD [ COLUMN ] <em>column_name</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>A clause that adds a column with the specified name to the table. You can
                                 add only one column in each ALTER TABLE statement.
                              </p>
                              
                              <p>You can&apos;t add a column that is the distribution key (DISTKEY) or a sort key
                                 (SORTKEY) of the table.
                              </p>
                              
                              <p> You can&apos;t use an ALTER TABLE ADD COLUMN command to modify the following
                                 table and column attributes: 
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>UNIQUE</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>PRIMARY KEY</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>REFERENCES (foreign key)</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>IDENTITY</p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                              <p>The maximum column name length is 127 bytes; longer names are truncated to
                                 127 bytes. The maximum number of columns you can define in a single table is
                                 1,600.
                              </p>
                              
                              <p>The following restrictions apply when adding a column to an external
                                 table:
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>You can&apos;t add a column to an external table with the column
                                          constraints DEFAULT, ENCODE, NOT NULL, or NULL. 
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>You can&apos;t add columns to an external table that&apos;s defined using the
                                          AVRO file format. 
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>If pseudocolumns are enabled, the maximum number of columns that you
                                          can define in a single external table is 1,598. If pseudocolumns aren&apos;t
                                          enabled, the maximum number of columns that you can define in a single
                                          table is 1,600. 
                                       </p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                              <p>For more information, see <a href="r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">
                                 <em>column_type</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>The data type of the column being added. For CHAR and VARCHAR columns, you
                                 can use the MAX keyword instead of declaring a maximum length. MAX sets the
                                 maximum length to 4,096 bytes for CHAR or 65,535 bytes for VARCHAR. Amazon Redshift
                                 supports the following <a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Supported_data_types.html">data types</a>: 
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>SMALLINT (INT2)</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>INTEGER (INT, INT4)</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>BIGINT (INT8)</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>DECIMAL (NUMERIC)</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>REAL (FLOAT4)</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>DOUBLE PRECISION (FLOAT8)</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>BOOLEAN (BOOL)</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>CHAR (CHARACTER)</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>VARCHAR (CHARACTER VARYING)</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>DATE</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>TIMESTAMP</p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                           </dd>
                           
                           
                           <dt><a id="alter-table-default"></a><span class="term">DEFAULT <em>default_expr</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>A clause that assigns a default data value for the column. The data type of
                                 <em>default_expr</em> must match the data type of the column.
                                 The DEFAULT value must be a variable-free expression. Subqueries,
                                 cross-references to other columns in the current table, and user-defined
                                 functions are not allowed.
                              </p>
                              
                              <p>The <em>default_expr</em> is used in any INSERT operation that
                                 doesn&apos;t specify a value for the column. If no default value is specified, the
                                 default value for the column is null.
                              </p>
                              
                              <p>If a COPY operation encounters a null field on a column that has a DEFAULT
                                 value and a NOT NULL constraint, the COPY command inserts the value of the
                                 <em>default_expr</em>. 
                              </p>
                              
                              <p>DEFAULT isn&apos;t supported for external tables.</p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">ENCODE <em>encoding</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>The compression encoding for a column. If no compression is selected, Amazon Redshift
                                 automatically assigns compression encoding as follows:
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>All columns in temporary tables are assigned RAW compression by
                                          default.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>Columns that are defined as sort keys are assigned RAW
                                          compression.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>Columns that are defined as BOOLEAN, REAL, or DOUBLE PRECISION data
                                          types are assigned RAW compression.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>All other columns are assigned LZO compression.</p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>If you don&apos;t want a column to be compressed, explicitly specify RAW
                                    encoding.
                                 </p>
                              </div>
                              
                              <p>The following <a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Compression_encodings.html#compression-encoding-list">compression encodings</a> are
                                 supported:
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>BYTEDICT</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>DELTA</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>DELTA32K</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>LZO</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>MOSTLY8</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>MOSTLY16</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>MOSTLY32</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>RAW (no compression)</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>RUNLENGTH</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>TEXT255</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>TEXT32K</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>ZSTD</p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                              <p>ENCODE isn&apos;t supported for external tables.</p>
                              
                           </dd>
                           
                           
                           
                           <dt><span class="term">NOT NULL | NULL </span></dt>
                           
                           <dd>
                              
                              <p>NOT NULL specifies that the column is not allowed to contain null values.
                                 NULL, the default, specifies that the column accepts null values.
                              </p>
                              
                              <p>NOT NULL and NULL aren&apos;t supported for external tables.</p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">DROP [ COLUMN ] <em>column_name</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>The name of the column to delete from the table.</p>
                              
                              <p>You can&apos;t drop the last column in a table. A table must have at least one
                                 column.
                              </p>
                              
                              <p>You can&apos;t drop a column that is the distribution key (DISTKEY) or a sort key
                                 (SORTKEY) of the table. The default behavior for DROP COLUMN is RESTRICT if the
                                 column has any dependent objects, such as a view, primary key, foreign key, or
                                 UNIQUE restriction.
                              </p>
                              
                              
                              <p>The following restrictions apply when dropping a column from an external
                                 table:
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>You can&apos;t drop a column from an external table if the column is used
                                          as a partition.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>You can&apos;t drop a column from an external table that is defined using
                                          the AVRO file format. 
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>RESTRICT and CASCADE are ignored for external tables.</p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                              <p>For more information, see <a href="r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a>.
                              </p>
                              
                              
                           </dd>
                           
                           
                           <dt><span class="term">RESTRICT </span></dt>
                           
                           <dd>
                              
                              <p>When used with DROP COLUMN, RESTRICT means that column to be dropped
                                 isn&apos;t dropped, in these cases:
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>If a defined view references the column that is being dropped</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>If a foreign key references the column</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>If the column takes part in a multipart key</p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                              <p>RESTRICT can&apos;t be used with CASCADE.</p>
                              
                              <p>RESTRICT and CASCADE are ignored for external tables.</p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">CASCADE </span></dt>
                           
                           <dd>
                              
                              <p>When used with DROP COLUMN, removes the specified column and anything
                                 dependent on that column. CASCADE can&apos;t be used with RESTRICT.
                              </p>
                              
                              <p>RESTRICT and CASCADE are ignored for external tables.</p>
                              
                           </dd>
                           
                        </dl>
                     </div><p>The following options apply only to external tables.</p><div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><span class="term">SET LOCATION { &apos;s3://<em>bucket/folder</em>/&apos; |
                                 &apos;s3://<em>bucket/manifest_file</em>&apos; }</span></dt>
                           
                           <dd>
                              
                              <p>The path to the Amazon S3 folder that contains the data files or a manifest file
                                 that contains a list of Amazon S3 object paths. The buckets must be in the same AWS
                                 Region as the Amazon Redshift cluster. For a list of supported AWS Regions, see <a href="https://docs.aws.amazon.com/redshift/latest/dg/c-using-spectrum.html#c-spectrum-considerations">Amazon Redshift Spectrum Considerations</a>. For more information about
                                 using a manifest file, see LOCATION in the CREATE EXTERNAL TABLE <a href="r_CREATE_EXTERNAL_TABLE.html#r_CREATE_EXTERNAL_TABLE-parameters">Parameters</a> reference.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">SET FILE FORMAT <em>format</em></span></dt>
                           
                           <dd>
                              
                              <p>The file format for external data files.</p>
                              
                              <p>Valid formats are as follows:</p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>AVRO </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>PARQUET</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>RCFILE</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>SEQUENCEFILE</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>TEXTFILE </p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                           </dd>
                           
                           
                           <dt><span class="term">SET TABLE PROPERTIES (
                                 &apos;<em>property_name</em>&apos;=&apos;<em>property_value</em>&apos;) </span></dt>
                           
                           <dd>
                              
                              <p>A clause that sets the table definition for table properties for an external
                                 table. 
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>Table properties are case-sensitive.</p>
                              </div>
                              
                              <div class="variablelist">
                                 
                                 
                                 
                                 <dl>
                                    
                                    <dt><span class="term">&apos;numRows&apos;=&apos;<em>row_count</em>&apos; </span></dt>
                                    
                                    <dd>
                                       
                                       <p>A property that sets the numRows value for the table definition. To
                                          explicitly update an external table&apos;s statistics, set the numRows
                                          property to indicate the size of the table. Amazon Redshift doesn&apos;t analyze
                                          external tables to generate the table statistics that the query
                                          optimizer uses to generate a query plan. If table statistics are not
                                          set for an external table, Amazon Redshift generates a query execution plan. This
                                          plan is based on an assumption that external tables are the larger
                                          tables and local tables are the smaller tables.
                                       </p>
                                       
                                    </dd>
                                    
                                    
                                    <dt><span class="term">&apos;skip.header.line.count&apos;=&apos;<em>line_count</em>&apos;</span></dt>
                                    
                                    <dd>
                                       
                                       <p>A property that sets number of rows to skip at the beginning of
                                          each source file.
                                       </p>
                                       
                                    </dd>
                                    
                                 </dl>
                              </div>
                              
                           </dd>
                           
                           
                           <dt><span class="term">PARTITION (
                                 <em>partition_column</em>=<em>partition_value</em> [,
                                 ...] SET LOCATION { &apos;s3://<em>bucket</em>/<em>folder</em>&apos;
                                 | &apos;s3://<em>bucket</em>/<em>manifest_file</em>&apos; }</span></dt>
                           
                           <dd>
                              
                              <p>A clause that sets a new location for one or more partition columns. </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">ADD [ IF NOT EXISTS ] PARTITION (
                                 <em>partition_column</em>=<em>partition_value</em> [,
                                 ...] ) LOCATION { &apos;s3://<em>bucket</em>/<em>folder</em>&apos; |
                                 &apos;s3://<em>bucket</em>/<em>manifest_file</em>&apos; } [, ...
                                 ]</span></dt>
                           
                           <dd>
                              
                              <p>A clause that adds one or more partitions. You can specify multiple
                                 PARTITION clauses using a single ALTER TABLE &#x2026; ADD statement.
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>If you use the AWS Glue catalog, you can add up to 100 partitions using a
                                    single ALTER TABLE statement.
                                 </p>
                              </div>
                              
                              <p>The IF NOT EXISTS clause indicates that if the specified partition already
                                 exists, the command should make no changes. It also indicates that the command
                                 should return a message that the partition exists, rather than terminating with
                                 an error. This clause is useful when scripting, so the script doesn&#x2019;t fail if
                                 ALTER TABLE tries to add a partition that already exists. 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">DROP PARTITION
                                 (<em>partition_column</em>=<em>partition_value</em> [,
                                 ...] ) </span></dt>
                           
                           <dd>
                              
                              <p>A clause that drops the specified partition. Dropping a partition alters
                                 only the external table metadata. The data on Amazon S3 is not affected.
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div><div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div></div>
</body>
</html>