<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div></div><h1 class="topictitle" id="r_UPDATE">UPDATE</h1><div class="highlights">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#r_UPDATE-synopsis">Syntax</a></li>
                           <li><a href="#r_UPDATE-parameters">Parameters</a></li>
                           <li><a href="#r_UPDATE_usage_notes">Usage Notes</a></li>
                           <li><a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Examples_of_UPDATE_statements.html">Examples of UPDATE Statements</a></li>
                        </ul>
                     </div><p>Updates values in one or more table columns when a condition is satisfied. </p><div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>The maximum size for a single SQL statement is 16 MB.</p>
                     </div><h2 id="r_UPDATE-synopsis">Syntax</h2><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">UPDATE <em>table_name</em> SET column = { <em>expression</em> | DEFAULT } [,...]
[ FROM <em>fromlist</em> ]
[ WHERE <em>condition</em> ]</code></pre><h2 id="r_UPDATE-parameters">Parameters</h2><div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><span class="term">
                                 <em>table_name</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>A temporary or persistent table. Only the owner of the table or a user with
                                 UPDATE privilege on the table may update rows. If you use the FROM clause or
                                 select from tables in an expression or condition, you must have SELECT
                                 privilege on those tables. You can&apos;t give the table an alias here; however, you
                                 can specify an alias in the FROM clause. 
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>Amazon Redshift Spectrum external tables are read-only. You can&apos;t UPDATE an
                                    external table.
                                 </p>
                              </div>
                              
                           </dd>
                           
                           
                           <dt><span class="term">SET <em>column</em> = </span></dt>
                           
                           <dd>
                              
                              <p>One or more columns that you want to modify. Columns that are not listed
                                 retain their current values. Do not include the table name in the specification
                                 of a target column. For example, <code class="code">UPDATE tab SET tab.col = 1</code> is
                                 invalid.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">
                                 <em>expression</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>An expression that defines the new value for the specified column. </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">DEFAULT </span></dt>
                           
                           <dd>
                              
                              <p>Updates the column with the default value that was assigned to the column in
                                 the CREATE TABLE statement. 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">FROM <em>tablelist</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>You can update a table by referencing information in other tables. List
                                 these other tables in the FROM clause or use a subquery as part of the WHERE
                                 condition. Tables listed in the FROM clause can have aliases. If you need to
                                 include the target table of the UPDATE statement in the list, use an alias.
                                 
                              </p>
                              
                           </dd>
                           
                           
                           
                           <dt><span class="term">WHERE <em>condition</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>Optional clause that restricts updates to rows that match a condition. When
                                 the condition returns <code class="code">true</code>, the specified SET columns are updated.
                                 The condition can be a simple predicate on a column or a condition based on the
                                 result of a subquery. 
                              </p>
                              
                              <p>You can name any table in the subquery, including the target table for the
                                 UPDATE. 
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div><h2 id="r_UPDATE_usage_notes">Usage Notes</h2><p>After updating a large number of rows in a table: </p><div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>Vacuum the table to reclaim storage space and resort rows. </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Analyze the table to update statistics for the query planner. </p>
                              
                           </li>
                        </ul>
                     </div><p>Left, right, and full outer joins are not supported in the FROM clause of an UPDATE
                        statement; they return the following error: 
                     </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">ERROR: Target table must be part of an equijoin predicate</code></pre><p> If you need to specify an outer join, use a subquery in the WHERE clause of the
                        UPDATE statement. 
                     </p><p>If your UPDATE statement requires a self-join to the target table, you need to
                        specify the join condition as well as the WHERE clause criteria that qualify rows
                        for
                        the update operation. In general, when the target table is joined to itself or another
                        table, a best practice is to use a subquery that clearly separates the join conditions
                        from the criteria that qualify rows for updates. 
                     </p><div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div></div>
</body>
</html>