<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div></div><h1 class="topictitle" id="json-functions">JSON Functions</h1><div class="highlights">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="https://docs.aws.amazon.com/redshift/latest/dg/IS_VALID_JSON.html">IS_VALID_JSON Function</a></li>
                           <li><a href="https://docs.aws.amazon.com/redshift/latest/dg/IS_VALID_JSON_ARRAY.html">IS_VALID_JSON_ARRAY Function</a></li>
                           <li><a href="https://docs.aws.amazon.com/redshift/latest/dg/JSON_ARRAY_LENGTH.html">JSON_ARRAY_LENGTH Function</a></li>
                           <li><a href="https://docs.aws.amazon.com/redshift/latest/dg/JSON_EXTRACT_ARRAY_ELEMENT_TEXT.html">JSON_EXTRACT_ARRAY_ELEMENT_TEXT
                                 Function</a></li>
                           <li><a href="https://docs.aws.amazon.com/redshift/latest/dg/JSON_EXTRACT_PATH_TEXT.html">JSON_EXTRACT_PATH_TEXT Function</a></li>
                        </ul>
                     </div><p>When you need to store a relatively small set of key-value pairs, you might save space
                        by storing the data in JSON format. Because JSON strings can be stored in a single
                        column,
                        using JSON might be more efficient than storing your data in tabular format. For example,
                        suppose you have a sparse table, where you need to have many columns to fully represent
                        all
                        possible attributes, but most of the column values are NULL for any given row or any
                        given
                        column. By using JSON for storage, you might be able to store the data for a row in
                        key:value pairs in a single JSON string and eliminate the sparsely-populated table
                        columns. 
                     </p><p>In addition, you can easily modify JSON strings to store additional key:value pairs
                        without needing to add columns to a table. 
                     </p><p>We recommend using JSON sparingly. JSON is not a good choice for storing larger datasets
                        because, by storing disparate data in a single column, JSON does not leverage Amazon
                        Redshift&#x2019;s
                        column store architecture. 
                     </p><p>JSON uses UTF-8 encoded text strings, so JSON strings can be stored as CHAR or VARCHAR
                        data types. Use VARCHAR if the strings include multi-byte characters.
                     </p><p>JSON strings must be properly formatted JSON, according to the following rules: </p><div class="itemizedlist">
                        
                        
                        
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>The root level JSON can either be a JSON object or a JSON array. A JSON object is
                                 an unordered set of comma-separated key:value pairs enclosed by curly braces. 
                              </p>
                              
                              <p>For example, <code class="code">{&quot;one&quot;:1, &quot;two&quot;:2} </code></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>A JSON array is an ordered set of comma-separated values enclosed by 
                                 brackets. 
                              </p>
                              
                              <p>An example is the following: <code class="code">[&quot;first&quot;, {&quot;one&quot;:1}, &quot;second&quot;, 3, null] </code></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>JSON arrays use a zero-based index; the first element in an array is at position
                                 0. In a JSON key:value pair, the key is a double quoted string. 
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>A JSON value can be any of: </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>JSON object </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>JSON array </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>string (double quoted) </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>number (integer and float) </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>boolean</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>null </p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Empty objects and empty arrays are valid JSON values.</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>JSON fields are case sensitive. </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>White space between JSON structural elements (such as <code class="code">{ }, [ ]</code>) is
                                 ignored. 
                              </p>
                              
                           </li>
                        </ul>
                     </div><p>The Amazon Redshift JSON functions and the Amazon Redshift COPY command use the same
                        methods to work
                        with JSON-formatted data. For more information about working with JSON, see <a href="https://docs.aws.amazon.com/redshift/latest/dg/copy-usage_notes-copy-from-json.html">COPY from JSON Format</a></p><div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div></div>
</body>
</html>