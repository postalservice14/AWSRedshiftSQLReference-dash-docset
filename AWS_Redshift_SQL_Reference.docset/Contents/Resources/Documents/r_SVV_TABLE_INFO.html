<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div></div><h1 class="topictitle" id="r_SVV_TABLE_INFO">SVV_TABLE_INFO</h1><p>Shows summary information for tables in the database. The view filters system tables
                        and shows only user-defined tables. 
                     </p><p>You can use the SVV_TABLE_INFO view to diagnose and address table design issues that
                        can influence query performance, including issues with compression encoding,
                        distribution keys, sort style, data distribution skew, table size, and statistics.
                        The
                        SVV_TABLE_INFO view doesn&apos;t return any information for empty tables.
                     </p><p>The SVV_TABLE_INFO view summarizes information from the <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_BLOCKLIST.html">STV_BLOCKLIST</a>, <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_PARTITIONS.html">STV_PARTITIONS</a>, <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_TBL_PERM.html">STV_TBL_PERM</a>, and <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_SLICES.html">STV_SLICES</a> system tables and from the
                        <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-database.html" target="_blank">PG_DATABASE</a>, <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-attribute.html" target="_blank">PG_ATTRIBUTE</a>, <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-class.html" target="_blank">PG_CLASS</a>, <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-namespace.html" target="_blank">PG_NAMESPACE</a>, and <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-type.html" target="_blank">PG_TYPE</a> catalog tables. 
                     </p><p>SVV_TABLE_INFO is visible only to superusers. For more information, see <a href="https://docs.aws.amazon.com/redshift/latest/dg/c_visibility-of-data.html">Visibility of Data in System Tables and
                           Views</a>. To permit a user to query the view, grant SELECT
                        privilege on SVV_TABLE_INFO to the user.
                     </p><h2 id="SVV_TABLE_INFO-table-columns">Table Columns</h2><div class="table">
                        <div class="table-contents">
                           <table id="w278aac43c15c95c11b3">
                              
                              <tr>
                                 
                                 <th>Column Name </th>
                                 
                                 <th>Data Type </th>
                                 
                                 <th>Description </th>
                                 
                              </tr>
                              
                              
                              <tr>
                                 
                                 <td>database </td>
                                 
                                 <td>text </td>
                                 
                                 <td>Database name. </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>schema </td>
                                 
                                 <td>text </td>
                                 
                                 <td>Schema name. </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>table_id </td>
                                 
                                 <td>oid </td>
                                 
                                 <td>Table ID. </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>table </td>
                                 
                                 <td>text </td>
                                 
                                 <td>Table name. </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>encoded </td>
                                 
                                 <td>text </td>
                                 
                                 <td>Value that indicates whether any column has
                                    compression encoding defined. 
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>diststyle </td>
                                 
                                 <td>text </td>
                                 
                                 <td>Distribution style or distribution key column, if
                                    key distribution is defined. 
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>sortkey1 </td>
                                 
                                 <td>text </td>
                                 
                                 <td>First column in the sort key, if a sort key is
                                    defined. 
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>max_varchar </td>
                                 
                                 <td>integer </td>
                                 
                                 <td>Size of the largest column that uses a VARCHAR
                                    data type. 
                                 </td>
                                 
                              </tr>
                              
                              
                              <tr>
                                 
                                 <td>sortkey1_enc</td>
                                 
                                 <td>character(32) </td>
                                 
                                 <td>Compression encoding of the first column in the
                                    sort key, if a sort key is defined.
                                 </td>
                                 
                              </tr>
                              
                              
                              <tr>
                                 
                                 <td>sortkey_num </td>
                                 
                                 <td>integer</td>
                                 
                                 <td>Number of columns defined as sort keys. </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>size</td>
                                 
                                 <td>bigint</td>
                                 
                                 <td>Size of the table, in 1 MB data blocks.</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>pct_used </td>
                                 
                                 <td>numeric(10,4) </td>
                                 
                                 <td>Percent of available space that is used by the
                                    table. 
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>empty</td>
                                 
                                 <td>bigint</td>
                                 
                                 <td>For internal use. This column is deprecated and
                                    will be removed in a future release.
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>unsorted</td>
                                 
                                 <td>numeric(5,2)</td>
                                 
                                 <td>Percent of unsorted rows in the table.</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>stats_off </td>
                                 
                                 <td>numeric(5,2)</td>
                                 
                                 <td>Number that indicates how stale the table&apos;s
                                    statistics are; 0 is current, 100 is out of date.
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>tbl_rows</td>
                                 
                                 <td>numeric(38,0)</td>
                                 
                                 <td>Total number of rows in the table. This value
                                    includes rows marked for deletion, but not yet vacuumed.
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>skew_sortkey1 </td>
                                 
                                 <td>numeric(19,2)</td>
                                 
                                 <td>Ratio of the size of the largest non-sort key
                                    column to the size of the first column of the sort key, if a sort
                                    key is defined. Use this value to evaluate the effectiveness of the
                                    sort key. 
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>skew_rows</td>
                                 
                                 <td>numeric(19,2)</td>
                                 
                                 <td>Ratio of the number of rows in the slice with the
                                    most rows to the number of rows in the slice with the fewest rows.
                                    
                                 </td>
                                 
                              </tr>
                              
                           </table>
                        </div>
                     </div><h2 id="SVV_TABLE_INFO-sample-queries">Sample Queries</h2><p>The following example shows encoding, distribution style, sorting, and data skew
                        for all user-defined tables in the database. Note that &quot;table&quot; must be enclosed in
                        double quotes because it is a reserved word.
                     </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">select &quot;table&quot;, encoded, diststyle, sortkey1, skew_sortkey1, skew_rows
from svv_table_info
order by 1;

table          | encoded | diststyle       | sortkey1     | skew_sortkey1 | skew_rows
---------------+---------+-----------------+--------------+---------------+----------
category       | N       | EVEN            |              |               |          
date           | N       | ALL             | dateid       |          1.00 |          
event          | Y       | KEY(eventid)    | dateid       |          1.00 |      1.02
listing        | Y       | KEY(listid)     | dateid       |          1.00 |      1.01
sales          | Y       | KEY(listid)     | dateid       |          1.00 |      1.02
users          | Y       | KEY(userid)     | userid       |          1.00 |      1.01
venue          | N       | ALL             | venueid      |          1.00 |          
(7 rows)</code></pre><div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div></div>
</body>
</html>