<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div></div><h1 class="topictitle" id="r_PG_DEFAULT_ACL">PG_DEFAULT_ACL</h1><p>Stores information about default access privileges. For more information on default
                        access privileges, see <a href="r_ALTER_DEFAULT_PRIVILEGES.html">ALTER DEFAULT PRIVILEGES</a>.
                     </p><p>PG_DEFAULT_ACL is visible to all users. Superusers can see all rows; regular users
                        can see only their own data. For more information, see <a href="https://docs.aws.amazon.com/redshift/latest/dg/c_visibility-of-data.html">Visibility of Data in System Tables and
                           Views</a>.
                     </p><h2 id="r_PG_DEFAULT_ACL-table-columns2">Table Columns</h2><div class="table">
                        <div class="table-contents">
                           <table id="w278aac43c17c11b7b3">
                              
                              <tr>
                                 
                                 <th>Column Name </th>
                                 
                                 <th>Data Type </th>
                                 
                                 <th>Description </th>
                                 
                              </tr>
                              
                              
                              <tr>
                                 
                                 <td>defacluser</td>
                                 
                                 <td>integer</td>
                                 
                                 <td>ID of the user to which the listed privileges are
                                    applied.
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>defaclnamespace</td>
                                 
                                 <td>oid </td>
                                 
                                 <td>The object ID of the schema where default
                                    privileges are applied. The default value is 0 if no schema is
                                    specified.
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>defaclobjtype</td>
                                 
                                 <td>character</td>
                                 
                                 <td>
                                    
                                    <p>The type of object to which default privileges are applied.
                                       Valid values are as follows: 
                                    </p>
                                    
                                    <div class="itemizedlist">
                                       
                                       
                                       
                                       <ul class="itemizedlist" type="disc">
                                          <li class="listitem">
                                             
                                             <p>r&#x2014;relation (table or view) </p>
                                             
                                          </li>
                                          <li class="listitem">
                                             
                                             <p>f&#x2014;function </p>
                                             
                                          </li>
                                       </ul>
                                    </div>
                                    
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>defaclacl</td>
                                 
                                 <td> aclitem[]</td>
                                 
                                 <td>
                                    
                                    <p>A string that defines the default privileges for the specified
                                       user or user group and object type. 
                                    </p>
                                    
                                    <p>If the privileges are granted to a user, the string is in the
                                       following form: 
                                    </p>
                                    
                                    <p><em><code class="code">{ username=privilegestring/grantor }
                                             </code></em></p>
                                    
                                    <p><em>username</em>
                                       
                                    </p>
                                    
                                    <p>The name of the user to which privileges are granted. If
                                       <em>username</em> is omitted, the privileges are
                                       granted to PUBLIC. 
                                    </p>
                                    
                                    <p>If the privileges are granted to a user group, the string is
                                       in the following form:
                                    </p>
                                    
                                    <p><em><code class="code">{ &quot;group groupname=privilegestring/grantor&quot; }
                                             </code></em></p>
                                    
                                    <p><em>privilegestring</em>
                                       
                                    </p>
                                    
                                    <p>A string that specifies which privileges are granted. </p>
                                    
                                    <p>Valid values are: </p>
                                    
                                    <div class="itemizedlist">
                                       
                                       
                                       
                                       
                                       
                                       
                                       
                                       
                                       <ul class="itemizedlist" type="disc">
                                          <li class="listitem">
                                             
                                             <p>r&#x2014;SELECT (read) </p>
                                             
                                          </li>
                                          <li class="listitem">
                                             
                                             <p>a&#x2014;INSERT (append) </p>
                                             
                                          </li>
                                          <li class="listitem">
                                             
                                             <p>w&#x2014;UPDATE (write) </p>
                                             
                                          </li>
                                          <li class="listitem">
                                             
                                             <p>d&#x2014;DELETE </p>
                                             
                                          </li>
                                          <li class="listitem">
                                             
                                             <p>x&#x2014;Grants the privilege to create a foreign key
                                                constraint ( REFERENCES).
                                             </p>
                                             
                                          </li>
                                          <li class="listitem">
                                             
                                             <p>X&#x2014;EXECUTE </p>
                                             
                                          </li>
                                          <li class="listitem">
                                             
                                             <p>*&#x2014;Indicates that the user receiving the
                                                preceding privilege can in turn grant the same privilege
                                                to others (WITH GRANT OPTION).
                                             </p>
                                             
                                          </li>
                                       </ul>
                                    </div>
                                    
                                    <p><em>grantor</em>
                                       
                                    </p>
                                    
                                    <p>The name of the user that granted the privileges. </p>
                                    
                                    <p>The following example indicates that the user
                                       <code class="code">admin</code> granted all privileges, including WITH
                                       GRANT OPTION, to the user <code class="code">dbuser</code>. 
                                    </p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">dbuser=r*a*w*d*x*X*/admin</code></pre>
                                    </td>
                                 
                              </tr>
                              
                           </table>
                        </div>
                     </div><h2 id="r_PG_DEFAULT_ACL-example">Example</h2><p>The following query returns all default privileges defined for the database. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">select pg_get_userbyid(d.defacluser) as user, 
n.nspname as schema, 
case d.defaclobjtype when &apos;r&apos; then &apos;tables&apos; when &apos;f&apos; then &apos;functions&apos; end 
as object_type, 
array_to_string(d.defaclacl, &apos; + &apos;)  as default_privileges 
from pg_catalog.pg_default_acl d 
left join pg_catalog.pg_namespace n on n.oid = d.defaclnamespace;

 user  | schema | object_type |              default_privileges
-------+--------+-------------+-------------------------------------------------------
 admin | tickit | tables      | user1=r/admin + &quot;group group1=a/admin&quot; + user2=w/admin</code></pre><p>The result in the preceding example shows that for all new tables created by user
                        <code class="code">admin</code> in the <code class="code">tickit</code> schema, <code class="code">admin</code> grants
                        SELECT privileges to <code class="code">user1</code>, INSERT privileges to <code class="code">group1</code>,
                        and UPDATE privileges to <code class="code">user2</code>.
                     </p><div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div></div>
</body>
</html>