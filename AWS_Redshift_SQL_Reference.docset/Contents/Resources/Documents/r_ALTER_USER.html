<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div></div><h1 class="topictitle" id="r_ALTER_USER">ALTER USER</h1><p>Changes a database user account. If you are the current user, you can change your
                        own
                        password. For all other options, you must be a database superuser to execute this
                        command.
                     </p><h2 id="r_ALTER_USER-synopsis">Syntax</h2><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">ALTER USER <em>username</em> [ WITH ] <em>option</em> [, ... ]

where <em>option</em> is

CREATEDB | NOCREATEDB 
| CREATEUSER | NOCREATEUSER 
| SYSLOG ACCESS { RESTRICTED | UNRESTRICTED }
| PASSWORD { &apos;<em>password</em>&apos; | &apos;<em>md5hash</em>&apos; | DISABLE }
[ VALID UNTIL &apos;<em>expiration_date</em>&apos; ] 
| RENAME TO <em>new_name</em> |
| CONNECTION LIMIT { <em>limit</em> | UNLIMITED }
| SET <em>parameter</em> { TO | = } { <em>value</em> | DEFAULT } 
| RESET <em>parameter</em>             </code></pre><h2 id="r_ALTER_USER-parameters">Parameters</h2><div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><span class="term">
                                 <em>username</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>Name of the user account. </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">WITH </span></dt>
                           
                           <dd>
                              
                              <p>Optional keyword. </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">CREATEDB | NOCREATEDB </span></dt>
                           
                           <dd>
                              
                              <p>The CREATEDB option allows the user to create new databases. NOCREATEDB is
                                 the default. 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">CREATEUSER | NOCREATEUSER </span></dt>
                           
                           <dd>
                              
                              <p>The CREATEUSER option creates a superuser with all database privileges,
                                 including CREATE USER. The default is NOCREATEUSER. For more information, see
                                 <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_superusers.html">superuser</a>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="alter-user-syslog-access"></a><span class="term">SYSLOG ACCESS { RESTRICTED | UNRESTRICTED }</span></dt>
                           
                           <dd>
                              
                              <p>A clause that specifies the level of access that the user has to the Amazon Redshift
                                 system tables and views. 
                              </p>
                              
                              <p>If RESTRICTED is specified, the user can see only the rows generated by that
                                 user in user-visible system tables and views. The default is RESTRICTED. 
                              </p>
                              
                              <p>If UNRESTRICTED is specified, the user can see all rows in user-visible
                                 system tables and views, including rows generated by another user. UNRESTRICTED
                                 doesn&apos;t give a regular user access to superuser-visible tables. Only superusers
                                 can see superuser-visible tables. 
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>Giving a user unrestricted access to system tables gives the user
                                    visibility to data generated by other users. For example, STL_QUERY and
                                    STL_QUERYTEXT contain the full text of INSERT, UPDATE, and DELETE
                                    statements, which might contain sensitive user-generated data. 
                                 </p>
                              </div>
                              
                              <p>All rows in STV_RECENTS and SVV_TRANSACTIONS are visible to all users. </p>
                              
                              <p>For more information, see <a href="https://docs.aws.amazon.com/redshift/latest/dg/c_visibility-of-data.html">Visibility of Data in System Tables and
                                    Views</a>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">PASSWORD { &apos;<em>password</em>&apos; | &apos;<em>md5hash</em>&apos; |
                                 DISABLE }</span></dt>
                           
                           <dd>
                              
                              <p>Sets the user&apos;s password. </p>
                              
                              <p>By default, users can change their own passwords, unless the password is
                                 disabled. To disable a user&apos;s password, specify DISABLE. When a user&apos;s password
                                 is disabled, the password is deleted from the system and the user can log on
                                 only using temporary IAM user credentials. For more information, see <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/generating-user-credentials.html">Using IAM Authentication
                                    to Generate Database User Credentials</a>. Only a superuser can enable
                                 or disable passwords. You can&apos;t disable a superuser&apos;s password. To enable a
                                 password, run ALTER USER and specify a password.
                              </p>
                              
                              <p>You can specify the password in clear text or as an MD5 hash string. </p>
                              
                              <p>For clear text, the password must meet the following constraints:</p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>It must be 8 to 64 characters in length.</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>It must contain at least one uppercase letter, one lowercase letter,
                                          and one number.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>It can use any printable ASCII characters (ASCII code 33 to 126)
                                          except &apos; (single quote), &quot; (double quote), :, \, /, @, or space.
                                       </p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                              
                              <p>As a more secure alternative to passing the CREATE USER password parameter
                                 as clear text, you can specify an MD5 hash of a string that includes the
                                 password and user name. 
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>When you specify an MD5 hash string, the ALTER USER command checks for a
                                    valid MD5 hash string, but it doesn&apos;t validate the password portion of the
                                    string. It is possible in this case to create a password, such as an empty
                                    string, that you can&apos;t use to log on to the database.
                                 </p>
                              </div>
                              
                              <p>To specify an MD5 password, follow these steps: </p>
                              
                              <ol>
                                 <li>
                                    
                                    <p>Concatenate the password and user name. </p>
                                    
                                    <p>For example, for password <code class="code">ez</code> and user <code class="code">user1</code>,
                                       the concatenated string is <code class="code">ezuser1</code>. 
                                    </p>
                                    
                                 </li>
                                 <li>
                                    
                                    <p>Convert the concatenated string into a 32-character MD5 hash string.
                                       You can use any MD5 utility to create the hash string. The following
                                       example uses the Amazon Redshift <a href="r_MD5.html">MD5 Function</a> and
                                       the concatenation operator ( || ) to return a 32-character MD5-hash
                                       string. 
                                    </p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">select md5(&apos;ez&apos; || &apos;user1&apos;);
md5                             
--------------------------------
153c434b4b77c89e6b94f12c5393af5b</code></pre>
                                    </li>
                                 <li>
                                    
                                    <p>Concatenate &apos;<code class="code">md5</code>&apos; in front of the MD5 hash string and
                                       provide the concatenated string as the <em>md5hash</em>
                                       argument.
                                    </p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">create user user1 password &apos;md5153c434b4b77c89e6b94f12c5393af5b&apos;;</code></pre>
                                    </li>
                                 <li>
                                    
                                    <p>Log on to the database using the user name and password. </p>
                                    
                                    <p>For this example, log on as <code class="code">user1</code> with password
                                       <code class="code">ez</code>. 
                                    </p>
                                    
                                 </li>
                              </ol>
                              
                           </dd>
                           
                           
                           <dt><span class="term">VALID UNTIL &apos;<em>expiration_date</em>&apos; </span></dt>
                           
                           <dd>
                              
                              <p>Specifies that the password has an expiration date. Use the value
                                 <code class="code">&apos;infinity&apos;</code> to avoid having an expiration date. The valid data
                                 type for this parameter is timestamp. 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">RENAME TO </span></dt>
                           
                           <dd>
                              
                              <p>Renames the user account. </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">
                                 <em>new_name</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>New name of the user. For more information about valid names, see <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_names.html">Names and Identifiers</a>.
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Important</p>
                                 <p>When you rename a user, you must also change the user&#x2019;s password. The
                                    user name is used as part of the password encryption, so when a user is
                                    renamed, the password is cleared. The user will not be able to log on until
                                    the password is reset. For example: 
                                 </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">alter user newuser password &apos;EXAMPLENewPassword11&apos;; </code></pre></div>
                              
                           </dd>
                           
                           
                           <dt><span class="term">CONNECTION LIMIT { <em>limit</em> | UNLIMITED } </span></dt>
                           
                           <dd>
                              
                              <p>The maximum number of database connections the user is permitted to have
                                 open concurrently. The limit is not enforced for super users. Use the UNLIMITED
                                 keyword to permit the maximum number of concurrent connections. 
                                                       
                                 A limit on the number of
                                 connections for each database might also apply. For more information, see <a href="r_CREATE_DATABASE.html">CREATE DATABASE</a>. The default
                                 is UNLIMITED. To view current connections, query the <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_SESSIONS.html">STV_SESSIONS</a> system
                                 view.
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>If both user and database connection limits apply, an unused connection
                                    slot must be available that is within both limits when a user attempts to
                                    connect.
                                 </p>
                              </div>
                              
                           </dd>
                           
                           
                           <dt><span class="term">SET </span></dt>
                           
                           <dd>
                              
                              <p>Sets a configuration parameter to a new default value for all sessions run
                                 by the specified user. 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">RESET </span></dt>
                           
                           <dd>
                              
                              <p>Resets a configuration parameter to the original default value for the
                                 specified user. 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">
                                 <em>parameter</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>Name of the parameter to set or reset. </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">
                                 <em>value</em>
                                 </span></dt>
                           
                           <dd>
                              
                              <p>New value of the parameter. </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">DEFAULT </span></dt>
                           
                           <dd>
                              
                              <p>Sets the configuration parameter to the default value for all sessions run
                                 by the specified user. 
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div><h2 id="r_ALTER_USER_usage_notes">Usage Notes</h2><p>When using IAM authentication to create database user credentials, you might want
                        to
                        create a superuser that is able to log on only using temporary credentials. You can&apos;t
                        disable a superuser&apos;s password, but you can create an unknown password using a randomly
                        generated MD5 hash string.
                     </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">alter user iam_superuser password &apos;mdA51234567890123456780123456789012&apos;;</code></pre><p>When you set the <a href="r_search_path.html">search_path</a>
                        parameter with the ALTER USER command, the modification takes effect on the specified
                        user&apos;s next login. If you want to change the search_path for the current user and
                        session, use a SET command. 
                     </p><h2 id="r_ALTER_USER-examples">Examples</h2><p>The following example gives the user ADMIN the privilege to create databases: </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">alter user admin createdb;</code></pre><p>The following example sets the password of the user ADMIN to <code class="code">adminPass9</code>
                        and sets an expiration date and time for the password: 
                     </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">alter user admin password &apos;adminPass9&apos;
valid until &apos;2017-12-31 23:59&apos;;</code></pre><p>The following example renames the user ADMIN to SYSADMIN: </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">alter user admin rename to sysadmin;</code></pre><div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div></div>
</body>
</html>